000001	[Music] in this video I'm going to show you how to customize citations when you've uploaded files in copilot studio for knowledge okay guys this is going to be a really cool one for you guys and big shout out to Henry James over in our powercat organization that figured out how to go and do this so you'll see a code sample that Henry uh ided and I'll give you links to all of this but what I'm about to show you is the ability for you to be able to go in and change the citations to point to wherever you want

000042	them to point to for situations where in copil studio you want to upload files but data verse itself doesn't give you a place to be able to go download the file but if imagine if you wanted to give people the ability to go get the file from somewhere you've hosted it on your website or from a SharePoint document library then Henry has made this possible uh with a very easy code sample so first things first you're going to see that this is the copilot that I did on how to upload large files um what

000117	I'll do is I'll put a link in the video uh here for you to be able to go check that out if you want to see uh me creating the uh Porsche demo that is here but just so that you guys can see I'm going to ask a couple of questions here to it and I want you to see how it behaves today so when I ask like what are the seat options for a 9 for the 911 it's going to come back and it's going to answer this question for me using these files that have been provided but you see how the citations are coming in

000151	and I can ask follow-up questions about what color of the leather is available and then I'm also going to put in an additional question here let's let this one come on back and what I'll do is I'll put in one additional question just because of the fact that these are the three questions we're going to play with on this now you can ask any question about the manuals or about the warranties for Porsches and it would answer the question based upon uh these documents but you'll notice that when the citations come back the

000226	citations come back and they look like this inside and if I look at these others you'll see the same sort of thing where it's basically just a snippet of what's inside that file but the problem with that is not a lot of people want it to behave like that they don't want it to say citation one citation 2 or whatever they actually want it just to point to the file so that the user can go get the file or point to a SharePoint document Library where they've hosted the file and so what uh Henry has done

000258	is he's made this really easy for you so the first thing that you need to do is that you just need to open up a tab in a web browser and you need to go to citation sample. copilot studiod dude.com and this will just redirect you directly over to the GitHub repo where Henry has put this and you're going to see here there's explanations it's instructions all of this you see Henry's contact information as far as being one of the authors and you can read through this and and all and it'll give you the information but

000338	what you're mainly looking for is this yaml file so once we click on this yaml file you can come over here and just copy the raw file and then all you need to do is go back to your co-pilot here and once you're in your co-pilot you'll want to go to the conversational boosting topic so if you don't know how to get there easiest path is from overview you go to topics you go to conversational boosting we'll go to more and then we'll open the code editor then what we want to do is Select everything that you see and paste

000414	in what the code that Henry has provided now once we've done that you'll notice that when I hit close code editor that the that it looks different now because it's added a lot more complexity to the way it works now just to make this easy on ourselves I'm going I'm going to go ahead and I'm going to clear out this over here in our test Pane and close it for just a second and then what I also want to do is I want to go in and hit save and so this way now we've converted over to this new conversational boosting

000447	logic and let's take a look at what's inside of it so notice that it's the same process that you've had before where you go and you generate an answer and all of those things and notice that one of the things that he's done is he's basically saying uncheck don't send the message right um underneath I think it's under Advanced here right here where he said don't send a message and what's happening is it's saving the response as answer here so that way you can modify it accordingly but the the beauty of

000523	this is that now because he didn't actually respond to it what you're going to find is that what he's doing is some additional logic and he's basically setting a value in this uh node here and he's giving you two different ways to handle this imagine that you want to point to a URL he's giving you a way to be able to do that or you could say here's a SharePoint library to go find the file that i' that I've uploaded to it and so by doing this you end up with basically what you're trying to accomplish with this particular

000600	implementation so now let's let's say that what I want to do is I want to be able to make it where it points to the actual website that porp provides that has the content in it that is associated to those particular two files so what I have done is I've already created the table information for you and I'll I'll show you what the table Source here but we will need to go here again this one is for the SharePoint site this one is for manual files so let's just take a look at this and you'll see that he's

000634	got an example of how this needs to be structured in your table so what I've done is I've already updated that to point to the files where I want them on Porsche's website so you'll see here I've given it given it the URL under file URL and then file name we'll need to get the actual file names uh here to be able to pull this off now I'll show you a simple way to go find that in just a second so if you don't know how to get this particular version of the file name I can show you where to get that so

000707	let's go ahead and just insert this one really quick and now let's go ahead and hit save and once we've saved this now we can go ahead and test now let's see what the difference looks like when I actually do this test okay so let's go ahead and do the test and do the same exact utter es and let's look at the difference in the way that it comes back with the citations you'll see here that now it's coming back with a friendlier name for the citations which is the name of the file and then we'll let it go ahead and

000748	respond to the color of the leather because this is just a follow-up question so you can see follow-up questions work just the same and then if I switch over to one of the ones about the warranty it's going to go and get me the information about the warranty now the trick here with this is that if I go over here and click on one of these citations what's going to happen is it's now going to want to download the file because it's pulling it directly from the URL that that I provided which is a direct link to that PDF so so that gives

000821	us one aspect of what we would want to be able to do however you may ask yourself how do I get that particular form formatted uh file name so when we look at this and go back you're like where did I get this name from and the place that you want to get that name from is pretty simple and the way to do it so if you just ask the questions that you're wanting making sure that you're testing it and you'll get these URLs one of the easiest ways to do it is that when you asked the question about uh in this case the last

000857	question I asked was this one right here what will happen is if you go into variables and you click on test you can go in the topic and you can look at answer and the value of the answer always provides the actual name of the file that you're you're doing so you can literally copy and paste it from here and it will get you the information that you need for what the file name is so that it can match that to the URL in this so think of it that you copy that and you put it in right in here and then you give it the URL of the new

000938	location you want it to go to and voila you end up with what you're looking to be able to do now the next thing that we want to do is we want to take a look at well what if I didn't want this to be the place where I'm I'm pulling it from what if I wanted to do something more like this let's say that I have a SharePoint site here and in this SharePoint site what I want to do is I want to go get the downloads for the different of the files the files that I literally download so maybe I don't want them to be in a different

001017	location so I'm going to just take and drag these files into this SharePoint location now while these are uploading the trick will be go get this URL right here and as you can see we've got one coming in and we'll let the next one come in as you can see it's still uploading okay so now both of my files are uploaded into the SharePoint location so just because I'm dealing with a demo here guys one of the things I'm going to do is I'm going to come back over here and I'm just going to copy this snippet

001100	again and the reason I'm doing this is I want to overwrite the changes that I just did here because what you'll see is that the logic if you want to see the formated formatted response and things like that you can come here and you can see the logic that he's put and you can see it's going to check to see if there's direct links to the files and if there isn't direct links to the files then it moves on to the next um thing which is the SharePoint piece here and looks it up and puts it into the root of the SharePoint in front of it uh

001134	assuming that a file is there with that information so again the main reason you're going to see me do this change is just because of the fact that I want to reset it for you because otherwise I would have to clear out uh the file names before so let's do that so to do that I'm just going to go in the code editor and I'm just just going to do a crl a and then a contrl +v and then I'm going to save that and voila we are now converted back to the way that this was before and you'll see we're back to these test

001216	scenarios that we had here around uh things that won't pop up so now that we've done that what I want to do is I want to go grab this URL from my actual SharePoint site and then I want to come back and notice here that Henry has already done the work for you to be able to show this for you so we just need to put the actual URL in and I think you want to pull off the all items and the forms piece here so that you end up with just the URL for the actual SharePoint site now we'll give this a try we'll hit save let's go ahead and

001308	test it now I'll ask these same questions again and we'll do it again with the color the leather and we'll do this last one about the corrosion warranty and with that now I should be able to click these links and it should take me to the SharePoint location and open the file directly so again we just basically went through this and now it automatically made it where it goes and grabs those files and notice I only had to give it the URL to the SharePoint location because of the fact that it's figuring out the rest of the URL based

001352	upon the name of the file so it is important that you keep the name of the file the same as you move it around but as you can see this made it so that you could pull this off now I really hope you guys enjoyed this video please like And subscribe to my channel for more educational videos on copilot Studio like this and as always you can try copilot Studio at aka.ms TR copilot Studio

